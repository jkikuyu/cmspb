(()=>{var e={6700:(e,s,a)=>{var t={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":7093,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":7093,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function n(e){var s=l(e);return a(s)}function l(e){if(!a.o(t,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t[e]}n.keys=function(){return Object.keys(t)},n.resolve=l,e.exports=n,n.id=6700},8753:(e,s,a)=>{"use strict";var t=a(9963),n=a(6252);function l(e,s,a,t,l,o){const i=(0,n.up)("Header"),r=(0,n.up)("router-view"),d=(0,n.up)("Footer");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i,{menuitems:l.menuitems},null,8,["menuitems"]),(0,n.Wm)(r,{menuitems:l.menuitems},null,8,["menuitems"]),(0,n.Wm)(d)],64)}function o(e,s,a,t,l,o){const i=(0,n.up)("NavBar");return(0,n.wg)(),(0,n.iD)("header",null,[(0,n.Wm)(i,{menuitems:a.menuitems},null,8,["menuitems"])])}const i=a.p+"img/kws.cfd16971.svg",r=a.p+"img/whistlewithsound.26d4e0bd.png",d={id:"main-navigation",class:"main-navigation text-white links-white headings-white","aria-label":"main"},m={class:"container p-lg-0"},c={class:"navbar navbar-expand-lg navbar-light bg-light"},u=(0,n._)("a",{class:"navbar-brand",href:"#"},[(0,n._)("img",{class:"w-50",src:i,alt:"KWS Logo"})],-1),p={class:"collapse navbar-collapse",id:"navbarToggler"},h={class:"navbar-nav mx-auto"},f={class:"container-fluid"},g={class:"row"},w={class:"float-end loginpos"},b=(0,n.Uk)("Log in"),v={class:"row hline"},_=(0,n._)("div",{class:"col-sm-1"},null,-1),y={class:"col-sm-4"},j={class:"whistle"},k=(0,n._)("img",{src:r,alt:"Whistle Blow",class:"whistlesize"},null,-1),I=(0,n._)("div",{class:"makereport"},"Report Incident",-1),D=(0,n._)("div",{class:"col-sm-6 m-0 p-0"},[(0,n._)("h5",{class:"float-end tollfree"},"Toll Free:"),(0,n._)("h2",{class:"float-end makereport pt-4"},"0800 5970000")],-1);function W(e,s,a,t,l,o){const i=(0,n.up)("Button"),r=(0,n.up)("MenuItem"),W=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",d,[(0,n._)("div",m,[(0,n._)("div",c,[u,(0,n.Wm)(i,{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"}),(0,n._)("div",p,[(0,n._)("ul",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.menuitems,(e=>((0,n.wg)(),(0,n.j4)(r,{key:e.id,menuitem:e},null,8,["menuitem"])))),128))])])])])]),(0,n._)("div",f,[(0,n._)("div",g,[(0,n._)("div",w,[(0,n.Wm)(W,{class:"text-muted login",to:"/login"},{default:(0,n.w5)((()=>[b])),_:1})])]),(0,n._)("div",v,[_,(0,n._)("div",y,[(0,n._)("div",j,[(0,n.Wm)(W,{class:"makereportlink",to:"/makereport"},{default:(0,n.w5)((()=>[k,I])),_:1})])]),D])])],64)}a(6486);var C=a(3577);function x(e,s,a,t,l,o){return(0,n.wg)(),(0,n.iD)("button",{type:"button",class:(0,C.C_)({"btn btn-primary":"submit"===a.button,"btn btn-default":"cancel"===a.button})},[(0,n._)("span",{class:(0,C.C_)({"navbar-toggler-icon":"navbar"===a.button})},null,2),(0,n.WI)(e.$slots,"default",{},void 0,!0)],2)}const M={name:"Button",props:{button:{type:String,default:"navbar"}}};var S=a(8118);const P=(0,S.Z)(M,[["render",x],["__scopeId","data-v-2bc63bbe"]]),E=P,F={class:"nav-item"};function T(e,s,a,t,l,o){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("li",F,[(0,n.Wm)(i,{class:"nav-link",to:a.menuitem.resource_path},{default:(0,n.w5)((()=>[(0,n.Uk)((0,C.zw)(a.menuitem.name),1)])),_:1},8,["to"])])}const z={props:{menuitem:Object}},O=(0,S.Z)(z,[["render",T]]),V=O,N={components:{Button:E,MenuItem:V},data(){return{newpassword:""}},props:{menuitems:Array},watch:{newpassword:function(e){console.log(e)}}},L=(0,S.Z)(N,[["render",W]]),A=L,U={name:"Header",components:{NavBar:A},props:{menuitems:Array}},Y=(0,S.Z)(U,[["render",o]]),q=Y,Z=(0,n._)("div",{class:"container text-center"},[(0,n._)("span",null,[(0,n.Uk)("Â© 2021 Kenya Wildlife Service , All Rights Reserved | P.O. Box 40241 - 00100, Nairobi Kenya | Tel: +254 (20) 2379407 , +254 (20) 6002345,+254 (20) 020-2379408 ,+254 020-2379409,+254 020-2379410,+254 020-2379411,+254 020-2379412,+254 020 020-2379413,+254 020-2379414 |"),(0,n._)("br"),(0,n.Uk)("Call Center:0800 597 000 or 0800 221 5566 | Email Address: kws [at] kws.go.ke ")])],-1),B=[Z];function H(e,s,a,t,l,o){return(0,n.wg)(),(0,n.iD)("footer",null,B)}const R={name:"Footer"},$=(0,S.Z)(R,[["render",H]]),K=$,J={data(){return{resp:{},isExpired:!1,menuitems:[]}},components:{Header:q,Footer:K},async created(){this.menuitems=await this.fetchPageContents(),console.log(this.menuitems)},methods:{async fetchPageContents(){let e=null;try{console.log("http://cmspb.herokuapp.com");const s=await fetch("http://cmspb.herokuapp.com/api/pagecontents",{credentials:"include"});return e=await s.json(),e.data}catch(s){console.log(s)}},isTokenExpired:function(e){if(e){console.log(e);try{const[,s]=e.split("."),{exp:a}=JSON.parse(window.atob(s));"number"===typeof a&&(Date.now()>=1e3*a?this.isExpired=!0:this.isExpired=!1)}catch(s){console.log(s)}}},refreshToken:async function(){console.log("dash")},getStoredToken:function(){console.log("gettoken"),this.resp=JSON.parse(localStorage.getItem("resp"))}}},G=(0,S.Z)(J,[["render",l]]),Q=G;var X=a(2201);const ee={class:"row"},se={key:0,class:"col-sm-6"},ae=(0,n._)("hr",null,null,-1),te={class:"col-sm-6 d-none d-lg-block d-md-block"},ne={key:1,class:"col-sm-6"},le=(0,n._)("hr",null,null,-1);function oe(e,s,a,t,l,o){const i=(0,n.up)("ContentDescription"),r=(0,n.up)("ContentImage");return(0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.filteredMenuItems,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"container"},[(0,n._)("div",ee,[e.id%2>0?((0,n.wg)(),(0,n.iD)("div",se,[(0,n._)("h2",null,(0,C.zw)(e.title),1),ae,(0,n.Wm)(i,{contentDescription:e},null,8,["contentDescription"])])):(0,n.kq)("",!0),(0,n._)("div",te,[(0,n.Wm)(r,{contentImage:e},null,8,["contentImage"])]),e.id%2==0?((0,n.wg)(),(0,n.iD)("div",ne,[(0,n._)("h2",null,(0,C.zw)(e.title),1),le,(0,n.Wm)(i,{contentDescription:e},null,8,["contentDescription"])])):(0,n.kq)("",!0)])])))),128)}const ie=["innerHTML"];function re(e,s,a,t,l,o){return(0,n.wg)(),(0,n.iD)("div",{innerHTML:o.markitdown},null,8,ie)}var de=a(7441);const me={name:"contentDescription",props:{contentDescription:Object},computed:{markitdown(){return(0,de.TU)(this.contentDescription.content)}}},ce=(0,S.Z)(me,[["render",re]]),ue=ce,pe=["src","alt"];function he(e,s,a,t,l,o){return(0,n.wg)(),(0,n.iD)("img",{src:a.contentImage.imagepath,alt:a.contentImage.imagepath?a.contentImage.name:"",class:"w-100"},null,8,pe)}const fe={name:"contentImage",props:{contentImage:Object}},ge=(0,S.Z)(fe,[["render",he]]),we=ge,be={components:{ContentDescription:ue,ContentImage:we},props:{menuitems:Array},computed:{filteredMenuItems(){return this.menuitems.filter((e=>e.resource_path===this.$route.path))}}},ve=(0,S.Z)(be,[["render",oe]]),_e=ve,ye=e=>((0,n.dD)("data-v-47255946"),e=e(),(0,n.Cn)(),e),je={class:"container-fluid px-3"},ke={class:"content"},Ie={class:"card"},De={ref:"makereport"},We={class:"card-body"},Ce={class:"container"},xe=ye((()=>(0,n._)("h2",{class:"fs-2 mb-3 fw-bold text-center"}," Report Incident ",-1))),Me=ye((()=>(0,n._)("div",{class:"alert alert-primary",role:"alert"},[(0,n.Uk)(" Please note: All fields marked ( "),(0,n._)("span",{style:{color:"#ff0000"}}," * "),(0,n.Uk)(" ) are required ")],-1))),Se={class:"row mb-3"},Pe={class:"col-sm-auto"},Ee=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),Fe={class:"col-sm-2"},Te={key:1,class:"row mb-3"},ze={class:"row"},Oe={class:"col-sm-auto"},Ve=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),Ne={key:0,class:"row mb-3"},Le={class:"col-sm-2 me-3"},Ae={class:"col-sm-2 me-3"},Ue={class:"col-sm-2 me-3"},Ye={class:"row mb-2"},qe={class:"col-sm-auto"},Ze={class:"col-sm-2"},Be={class:"col-sm-auto ms-4"},He={class:"col-sm-2 me-4"},Re={class:"col-sm-auto"},$e=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),Ke={class:"col-sm-2"},Je={class:"row mb-2"},Ge={class:"col-sm-auto"},Qe=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),Xe={class:"col-sm-3"},es={class:"row mb-3"},ss={class:"col-sm-auto"},as=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),ts={class:"col-sm-3"},ns={class:"row mb-3"},ls={class:"col-sm-auto"},os=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),is={class:"col-sm-2"},rs={class:"row mb-3"},ds={class:"col-sm-auto"},ms=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),cs={class:"col-sm-5"},us={class:"row mb-3"},ps={class:"col-sm-auto"},hs=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),fs={class:"row mb-3"},gs={class:"row mb-3"},ws={class:"col-sm-auto"},bs=ye((()=>(0,n._)("span",{style:{color:"#ff0000"}}," * ",-1))),vs={class:"row mb-3"},_s={class:"row mb-3"},ys={class:"row mb-3"},js={class:"col-sm-auto"},ks={class:"col-sm-2"},Is={key:2,class:"row mb-3"},Ds={class:"col-sm-auto"},Ws={key:3,class:"row mb-3"},Cs={class:"row mb-3"},xs={class:"col-sm-auto"},Ms={class:"col-sm-2"},Ss={class:"row mb-3"},Ps={class:"col-sm-auto"},Es={class:"col-sm-2"},Fs={class:"card-footer"},Ts=(0,n.Uk)("Submit"),zs=(0,n.Uk)("Cancel"),Os=(0,n.Uk)(" Create Anonymous User "),Vs=(0,n.Uk)(" Anonymous User ID ");function Ns(e,s,a,l,o,i){const r=(0,n.up)("Label"),d=(0,n.up)("Select"),m=(0,n.up)("Input"),c=(0,n.up)("TextArea"),u=(0,n.up)("DateTimePicker"),p=(0,n.up)("Button"),h=(0,n.up)("Register");return(0,n.wg)(),(0,n.iD)("div",je,[(0,n._)("div",ke,[(0,n._)("section",null,[(0,n._)("div",Ie,[(0,n._)("form",De,[(0,n._)("div",We,[(0,n._)("div",Ce,[xe,Me,o.msg.warning||o.msg.success?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,C.C_)(["alert",{"alert-warning":o.msg.warning,"alert-success":o.msg.success}]),role:"alert"},(0,C.zw)(o.msg.warning?o.msg.warning:"")+" "+(0,C.zw)(o.msg.success?o.msg.success:""),3)):(0,n.kq)("",!0),(0,n._)("div",Se,[(0,n._)("div",Pe,[(0,n.Wm)(r,{label:o.fields.anonymous},null,8,["label"]),Ee]),(0,n._)("div",Fe,[(0,n.Wm)(d,{required:"",onChange:s[0]||(s[0]=e=>i.updateForm(o.fields.anonymous.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.anonymous.name]}),dropdownitems:o.yesno,elementId:o.fields.anonymous.name,value:o.form.anonymous},null,8,["class","dropdownitems","elementId","value"])])]),+o.form.anonymous?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Te,[(0,n._)("div",ze,[(0,n._)("div",Oe,[(0,n.Wm)(r,{label:o.fields.first},null,8,["label"]),Ve])]),+o.form.anonymous?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Ne,[(0,n._)("div",Le,[(0,n.Wm)(m,{required:!+o.form.anonymous,pattern:"[^\\s]+",onInput:s[1]||(s[1]=e=>i.updateForm(o.fields.first.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.first.name]}),elementId:o.fields.first.name,placeholder:o.fields.first.placeholder,value:o.form.firstname},null,8,["required","class","elementId","placeholder","value"])]),(0,n._)("div",Ae,[(0,n.Wm)(m,{onInput:s[2]||(s[2]=e=>i.updateForm(o.fields.middle.name,e.target.value)),elementId:o.fields.middle.name,placeholder:o.fields.middle.placeholder,value:o.form.middlename},null,8,["elementId","placeholder","value"])]),(0,n._)("div",Ue,[(0,n.Wm)(m,{required:!+o.form.anonymous,pattern:"[^\\s]+",onInput:s[3]||(s[3]=e=>i.updateForm(o.fields.last.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.last.name]}),elementId:o.fields.last.name,placeholder:o.fields.last.placeholder,value:o.form.lastname},null,8,["required","class","elementId","placeholder","value"])])])),(0,n._)("div",Ye,[(0,n._)("div",qe,[(0,n.Wm)(r,{label:o.fields.workid},null,8,["label"])]),(0,n._)("div",Ze,[(0,n.Wm)(m,{onInput:s[4]||(s[4]=e=>i.updateForm(o.fields.workid.name,e.target.value)),elementId:o.fields.workid.name,placeholder:o.fields.workid.placeholder,value:o.form.wid},null,8,["elementId","placeholder","value"])]),(0,n._)("div",Be,[(0,n.Wm)(r,{label:o.fields.nationalid},null,8,["label"])]),(0,n._)("div",He,[(0,n.Wm)(m,{onInput:s[5]||(s[5]=e=>i.updateForm(o.fields.nationalid.name,e.target.value)),elementId:o.fields.nationalid.name,placeholder:o.fields.nationalid.placeholder,value:o.form.nid},null,8,["elementId","placeholder","value"])]),(0,n._)("div",Re,[(0,n.Wm)(r,{label:o.fields.email},null,8,["label"]),$e]),(0,n._)("div",Ke,[(0,n.Wm)(m,{required:!+o.form.anonymous,type:"email",onInput:s[6]||(s[6]=e=>i.updateForm(o.fields.email.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.email.name]}),elementId:o.fields.email.name,placeholder:o.fields.email.placeholder,value:o.form.email},null,8,["required","class","elementId","placeholder","value"])])])])),(0,n._)("div",Je,[(0,n._)("div",Ge,[(0,n.Wm)(r,{label:o.fields.complainanttype},null,8,["label"]),Qe]),(0,n._)("div",Xe,[(0,n.Wm)(d,{onChange:s[7]||(s[7]=e=>i.updateForm(o.fields.complainanttype.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.complainanttype.name]}),elementId:o.fields.complainanttype.name,dropdownitems:o.complainantlist,value:o.form.complainanttype},null,8,["class","elementId","dropdownitems","value"])])]),(0,n._)("div",es,[(0,n._)("div",ss,[(0,n.Wm)(r,{label:o.fields.allegetype},null,8,["label"]),as]),(0,n._)("div",ts,[(0,n.Wm)(d,{onChange:s[8]||(s[8]=e=>i.updateForm(o.fields.allegetype.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.allegetype.name]}),dropdownitems:o.allegetypelist,elementId:o.fields.allegetype.name,value:o.form.allegetype},null,8,["class","dropdownitems","elementId","value"])])]),(0,n._)("div",ns,[(0,n._)("div",ls,[(0,n.Wm)(r,{label:o.fields.reported},null,8,["label"]),os]),(0,n._)("div",is,[(0,n.Wm)(d,{onChange:s[9]||(s[9]=e=>i.updateForm(o.fields.reported.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.reported.name]}),dropdownitems:o.yesno,elementId:o.fields.reported.name,value:o.form.reported},null,8,["class","dropdownitems","elementId","value"])])]),(0,n._)("div",rs,[(0,n.wy)((0,n._)("div",ds,[(0,n.Wm)(r,{label:o.fields.towhom},null,8,["label"]),ms],512),[[t.F8,!!+o.form.reported]]),(0,n.wy)((0,n._)("div",cs,[(0,n.Wm)(m,{onInput:s[10]||(s[10]=e=>i.updateForm(o.fields.towhom.name,e.target.value)),class:"col-sm-9",elementId:o.fields.towhom.name,value:o.form.towhom},null,8,["elementId","value"])],512),[[t.F8,!!+o.form.reported]])]),(0,n._)("div",us,[(0,n._)("div",ps,[(0,n.Wm)(r,{label:o.fields.describe},null,8,["label"]),hs])]),(0,n._)("div",fs,[(0,n.Wm)(c,{onInput:s[11]||(s[11]=e=>i.updateForm(o.fields.describe.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.describe.name]}),elementId:o.fields.describe.name,value:o.form.description},null,8,["class","elementId","value"])]),(0,n._)("div",gs,[(0,n._)("div",ws,[(0,n.Wm)(r,{label:o.fields.subjectdetail},null,8,["label"]),bs])]),(0,n._)("div",vs,[(0,n.Wm)(c,{onInput:s[12]||(s[12]=e=>i.updateForm(o.fields.subjectdetail.name,e.target.value)),class:(0,C.C_)({"border border-danger":!o.form[o.fields.subjectdetail.name]}),elementId:o.fields.subjectdetail.name,value:o.form.detail},null,8,["class","elementId","value"])]),(0,n._)("div",_s,[(0,n.Wm)(u,{modelValue:o.range,"onUpdate:modelValue":s[13]||(s[13]=e=>o.range=e)},null,8,["modelValue"])]),(0,n._)("div",ys,[(0,n._)("div",js,[(0,n.Wm)(r,{label:o.fields.threat},null,8,["label"])]),(0,n._)("div",ks,[(0,n.Wm)(d,{onChange:s[14]||(s[14]=e=>i.updateForm(o.fields.threat.name,e.target.value)),dropdownitems:o.yesno,elementId:o.fields.threat.name,value:o.form.threat},null,8,["dropdownitems","elementId","value"])])]),+o.form.threat?((0,n.wg)(),(0,n.iD)("div",Is,[(0,n._)("div",Ds,[(0,n.Wm)(r,{label:o.fields.elaborate},null,8,["label"])])])):(0,n.kq)("",!0),+o.form.threat?((0,n.wg)(),(0,n.iD)("div",Ws,[(0,n.Wm)(c,{onInput:s[15]||(s[15]=e=>i.updateForm(o.fields.elaborate.name,e.target.value)),elementId:o.fields.elaborate.name},null,8,["elementId"])])):(0,n.kq)("",!0),(0,n._)("div",Cs,[(0,n._)("div",xs,[(0,n.Wm)(r,{label:o.fields.evidence},null,8,["label"])]),(0,n._)("div",Ms,[(0,n.Wm)(d,{onChange:s[16]||(s[16]=e=>i.updateForm(o.fields.evidence.name,e.target.value)),dropdownitems:o.yesno,elementId:o.fields.evidence.name,value:o.form.evidence},null,8,["dropdownitems","elementId","value"])])]),(0,n.wy)((0,n._)("div",Ss,[(0,n._)("div",Ps,[(0,n.Wm)(r,{label:o.fields.nopossession},null,8,["label"])]),(0,n._)("div",Es,[(0,n.Wm)(d,{onChange:s[17]||(s[17]=e=>i.updateForm(o.fields.nopossession.name,e.target.value)),dropdownitems:o.yesno,elementId:o.fields.nopossession.name,value:o.form.nopossession},null,8,["dropdownitems","elementId","value"])])],512),[[t.F8,!+o.form.evidence]])])]),(0,n._)("div",Fs,[(0,n.Wm)(p,{class:"mx-2",type:"button",onClick:i.submitreport,button:"submit"},{default:(0,n.w5)((()=>[Ts])),_:1},8,["onClick"]),(0,n.Wm)(p,{button:"cancel",onClick:i.cancelreport},{default:(0,n.w5)((()=>[zs])),_:1},8,["onClick"])])],512)])])]),(0,n.Wm)(h,{showModal:o.isModalOpen,anonymoususer_id:o.userid,label:o.logintext,onHideLoginModal:s[18]||(s[18]=e=>o.isModalOpen=!1),onSubmitReport:i.storeReport},{formname:(0,n.w5)((()=>[Os])),usertitle:(0,n.w5)((()=>[Vs])),_:1},8,["showModal","anonymoususer_id","label","onSubmitReport"])])}const Ls=["id","name"],As=(0,n._)("option",{selected:"",disabled:"",value:""},"Please select ...",-1),Us=["value"];function Ys(e,s,a,l,o,i){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{id:a.elementId,class:"form-select form-select-sm",name:a.elementId},[As,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.dropdownitems,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,Us)))),128))],8,Ls)),[[t.F8,a.dropdownitems]])}const qs={components:{},props:{dropdownitems:Array,elementId:String,placeholder:String}},Zs=(0,S.Z)(qs,[["render",Ys]]),Bs=Zs,Hs=["for"];function Rs(e,s,a,t,l,o){return(0,n.wg)(),(0,n.iD)("label",{for:a.label.name,class:"fw-bold form-label"},(0,C.zw)(a.label.title),9,Hs)}const $s={name:"Label",props:{label:Object}},Ks=(0,S.Z)($s,[["render",Rs]]),Js=Ks,Gs=["id","name","placeholder"];function Qs(e,s,a,t,l,o){return(0,n.wg)(),(0,n.iD)("input",{type:"text",id:a.elementId,name:a.elementId,onChange:s[0]||(s[0]=s=>e.$emit("update:modelValue",s.target.value)),placeholder:a.placeholder},null,40,Gs)}const Xs={props:{elementId:String,modelValue:String,placeholder:String}},ea=(0,S.Z)(Xs,[["render",Qs]]),sa=ea,aa=["id","name"];function ta(e,s,a,t,l,o){return(0,n.wg)(),(0,n.iD)("textarea",{id:a.elementId,name:a.elementId,onChange:s[0]||(s[0]=s=>e.$emit("update:modelValue",s.target.value)),rows:"4",cols:"50"},"\n    ",40,aa)}const na={props:{elementId:String,modelValue:String}},la=(0,S.Z)(na,[["render",ta]]),oa=la,ia={class:"row"},ra={class:"col-sm-auto"},da={class:"col-sm-2"},ma=(0,n._)("div",{class:"col-1"},null,-1),ca={class:"col-sm-auto"},ua={class:"col-sm-2"};function pa(e,s,a,t,l,o){const i=(0,n.up)("Label"),r=(0,n.up)("Input"),d=(0,n.up)("DatePicker");return(0,n.wg)(),(0,n.j4)(d,{mode:"dateTime",columns:2,"mode-config":l.modeConfig,"is-range":""},{default:(0,n.w5)((({inputValue:e,inputEvents:s})=>[(0,n._)("div",ia,[(0,n._)("div",ra,[(0,n.Wm)(i,{label:l.start},null,8,["label"])]),(0,n._)("div",da,[(0,n.Wm)(r,(0,n.dG)({elementId:l.start.name,value:e.start},(0,n.mx)(s.start)),null,16,["elementId","value"])]),ma,(0,n._)("div",ca,[(0,n.Wm)(i,{label:l.end},null,8,["label"])]),(0,n._)("div",ua,[(0,n.Wm)(r,(0,n.dG)({readonly:"",elementId:l.end.name,value:e.end},(0,n.mx)(s.end)),null,16,["elementId","value"])])])])),_:1},8,["mode-config"])}var ha=a(1763);const fa={data(){return{modeConfig:{type:"string",mask:"YYYY-MM-DD HH:mm"},masks:{L:"YYYY-MM-DD"},start:{name:"datefrom",title:"Date From"},end:{name:"dateto",title:"Date To"}}},watch:{range:{handler:function(){console.log(this.range)},deep:!0}},components:{DatePicker:ha.Mt,Label:Js,Input:sa}},ga=(0,S.Z)(fa,[["render",pa]]),wa=ga,ba={ref:"modal",class:"modal fade",id:"loginForm","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"loginFormLabel","aria-hidden":"true"},va={class:"modal-dialog modal-dialog-centered"},_a={class:"modal-content"},ya={class:"modal-header"},ja={class:"modal-title",id:"loginFormLabel"},ka={class:"modal-body"},Ia={class:"row"},Da={class:"col-sm-5 pt-2"},Wa={class:"col-sm-4"},Ca={class:"row"},xa={class:"col-sm-5 pt-2"},Ma={class:"form-group col-sm-6 m-0"},Sa={class:"input-group"},Pa=["type"],Ea={class:"input-group-append"},Fa={class:"input-group-text"},Ta={key:0,class:"errmsg"},za={class:"row"},Oa={class:"col-sm-5 pt-2"},Va={class:"form-group col-sm-6 m-0"},Na={class:"input-group"},La=["type"],Aa={class:"input-group-append"},Ua={class:"input-group-text"},Ya={key:0,class:"errmsg"},qa=(0,n._)("hr",null,null,-1),Za=(0,n._)("div",{class:"row"},[(0,n._)("p",{class:"fw-bold m-0"},"Note:"),(0,n._)("div",{class:"col-sm-12 pt-2"},[(0,n._)("ul",null,[(0,n._)("li",null," Write down your anonymous User ID and password. You need them to login and track the status of your report "),(0,n._)("li",null,"Keep your login details safe.")])])],-1),Ba={class:"row"},Ha={class:"col-sm-10 ms-4"},Ra=(0,n.Uk)(" I have read and understood "),$a=(0,n._)("a",{href:"javascript:void(0)",class:"link-primary","data-bs-toggle":"modal","data-bs-target":"#userManualModal"},"the steps and guidelines",-1),Ka={class:"modal-footer"},Ja=(0,n.Uk)(" Submit "),Ga=(0,n.Uk)(" Cancel "),Qa=(0,n.uE)('<div class="modal" id="userManualModal" aria-hidden="true" aria-labelledby="userManualModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="userManualTitle"> Whistleblower User Manual </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body">111</div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> Close </button></div></div></div></div>',1);function Xa(e,s,a,l,o,i){const r=(0,n.up)("Label"),d=(0,n.up)("Input"),m=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ba,[(0,n._)("div",va,[(0,n._)("div",_a,[(0,n._)("div",ya,[(0,n._)("h5",ja,[(0,n.WI)(e.$slots,"formname")])]),(0,n._)("div",ka,[(0,n._)("div",Ia,[(0,n._)("div",Da,[(0,n.Wm)(r,{label:a.label.anonymousid},null,8,["label"])]),(0,n._)("div",Wa,[(0,n.Wm)(d,{class:"form-control-plaintext",readonly:"",value:a.anonymoususer_id},null,8,["value"])])]),(0,n._)("div",Ca,[(0,n._)("div",xa,[(0,n.Wm)(r,{label:a.label.newpassword},null,8,["label"])]),(0,n._)("div",Ma,[(0,n._)("div",Sa,[(0,n.wy)((0,n._)("input",{class:"form-control",type:e.isVisibleNewPassword?"text":"password","onUpdate:modelValue":s[0]||(s[0]=s=>e.newpassword=s)},null,8,Pa),[[t.YZ,e.newpassword]]),(0,n._)("div",Ea,[(0,n._)("div",Fa,[(0,n._)("a",{src:"#",onClick:s[1]||(s[1]=s=>e.isVisibleNewPassword=!e.isVisibleNewPassword)},[(0,n._)("i",{class:(0,C.C_)({"fa fa-eye-slash":!e.isVisibleNewPassword,"fas fa-eye":e.isVisibleNewPassword})},null,2)])])])]),e.msg.newpassword?((0,n.wg)(),(0,n.iD)("span",Ta,(0,C.zw)(e.msg.newpassword),1)):(0,n.kq)("",!0)])]),(0,n._)("div",za,[(0,n._)("div",Oa,[(0,n.Wm)(r,{label:a.label.confirmpassword},null,8,["label"])]),(0,n._)("div",Va,[(0,n._)("div",Na,[(0,n.wy)((0,n._)("input",{class:"form-control",type:e.isVisibleConfirmPassword?"text":"password","onUpdate:modelValue":s[2]||(s[2]=s=>e.confirmpassword=s)},null,8,La),[[t.YZ,e.confirmpassword]]),(0,n._)("div",Aa,[(0,n._)("div",Ua,[(0,n._)("a",{src:"#",onClick:s[3]||(s[3]=s=>e.isVisibleConfirmPassword=!e.isVisibleConfirmPassword)},[(0,n._)("i",{class:(0,C.C_)({"fa fa-eye-slash":!e.isVisibleConfirmPassword,"fas fa-eye":e.isVisibleConfirmPassword})},null,2)])])])]),e.msg.confirmpassword?((0,n.wg)(),(0,n.iD)("span",Ya,(0,C.zw)(e.msg.confirmpassword),1)):(0,n.kq)("",!0)])]),qa,Za]),(0,n._)("div",Ba,[(0,n._)("div",Ha,[(0,n._)("input",{type:"checkbox",onClick:s[4]||(s[4]=s=>e.isAgree=!e.isAgree),id:"iagree",autocomplete:"off"}),Ra,$a])]),(0,n._)("div",Ka,[(0,n.Wm)(m,{disabled:!(e.isValid&&e.isAgree),type:"button",button:"submit","data-bs-dismiss":"modal",onClick:i.submitReport},{default:(0,n.w5)((()=>[Ja])),_:1},8,["disabled","onClick"]),(0,n.Wm)(m,{type:"button",button:"cancel",onClick:i.hideLoginModal},{default:(0,n.w5)((()=>[Ga])),_:1},8,["onClick"])])])])],512),Qa],64)}const et=e=>((0,n.dD)("data-v-5fae5869"),e=e(),(0,n.Cn)(),e),st={class:"log-in"},at={class:"d-flex flex-column"},tt={class:"row"},nt={key:0,class:"errmsg"},lt={class:"col-sm-5 pt-5"},ot={class:"col-sm-5 pt-5"},it={class:"row"},rt={class:"col-sm-5 pt-3"},dt={class:"form-group col-sm-5 pt-3 m-0"},mt={class:"input-group"},ct=["type"],ut={class:"input-group-append"},pt={class:"input-group-text"},ht={class:"row pt-2"},ft=et((()=>(0,n._)("div",{class:"col-8"},null,-1))),gt={class:"col-sm-3"},wt=(0,n.Uk)(" Submit ");function bt(e,s,a,l,o,i){const r=(0,n.up)("Label"),d=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)("main",st,[(0,n._)("form",{onSubmit:s[3]||(s[3]=(0,t.iM)(((...e)=>l.loginform&&l.loginform(...e)),["prevent"]))},[(0,n._)("div",at,[(0,n._)("div",tt,[l.msg.password?((0,n.wg)(),(0,n.iD)("span",nt,[(0,n._)("h5",null,(0,C.zw)(l.msg.password),1)])):(0,n.kq)("",!0),(0,n._)("div",lt,[(0,n.Wm)(r,{label:o.label.userid},null,8,["label"])]),(0,n._)("div",ot,[(0,n.wy)((0,n._)("input",{class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>o.userid=e),name:"userid",type:"text"},null,512),[[t.nr,o.userid]])])]),(0,n._)("div",it,[(0,n._)("div",rt,[(0,n.Wm)(r,{label:o.label.password},null,8,["label"])]),(0,n._)("div",dt,[(0,n._)("div",mt,[(0,n.wy)((0,n._)("input",{class:"form-control",type:o.isVisiblePassword?"text":"password","onUpdate:modelValue":s[1]||(s[1]=e=>o.password=e),name:"password"},null,8,ct),[[t.YZ,o.password]]),(0,n._)("div",ut,[(0,n._)("div",pt,[(0,n._)("a",{src:"#",onClick:s[2]||(s[2]=e=>o.isVisiblePassword=!o.isVisiblePassword)},[(0,n._)("i",{class:(0,C.C_)({"fas fa-eye-slash":!o.isVisiblePassword,"fa fa-eye":o.isVisiblePassword})},null,2)])])])])])]),(0,n._)("div",ht,[ft,(0,n._)("div",gt,[(0,n.Wm)(d,{class:"btn btn-primary",type:"submit"},{default:(0,n.w5)((()=>[wt])),_:1})])])])],32)])}var vt=a(9669),_t=a.n(vt),yt=a(2262);const jt={name:"LoginPassword",components:{Label:Js,Button:E},data(){return{response:"",isVisiblePassword:!1,userid:"",password:"",label:{userid:{name:"userid",title:"Enter user name or anonymous id"},password:{name:"password",title:"Enter password"}}}},mounted(){_t().defaults.headers.common.Authorization&&(console.log(_t().defaults.headers.common.Authorization),this.$router.push("/dashboard"))},setup(){const e=new X.tv,s=(0,yt.qj)({password:""}),a=async a=>{let t={};const n=new FormData(a.target),l=Object.fromEntries(n.entries());t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(l.userid)?{email:l.userid,password:l.password}:{userid:l.userid,password:l.password};const{data:o}=await _t().post("login",t,{withCredentials:!0});"200"===o.status?(_t().defaults.headers.common.Authorization=`Bearer ${o.authorisation.token}`,e.push({path:"/dashboard"})):s.password="user details provided are incorrect"};return{loginform:a,msg:s}},methods:{}},kt=(0,S.Z)(jt,[["render",bt],["__scopeId","data-v-5fae5869"]]),It=kt;var Dt=a(7244);const Wt={name:"Login",data:()=>({loginFormModal:null,confirmpassword:"",newpassword:"",msg:[],isValid:!0,isAgree:!1,isVisibleNewPassword:!1,isVisibleConfirmPassword:!1}),props:{showModal:Boolean,anonymoususer_id:String,label:Object,modelValue:String},components:{Button:E,Input:sa,Label:Js,LoginPassword:It},mounted(){const e=document.querySelector("#userManualModal");e.addEventListener("show.bs.modal",(s=>{const a="http://localhost/docs/intro/index.html";fetch(a).then((e=>e.text())).then((s=>{e.querySelector(".modal-body").innerHTML=s}))}))},watch:{showModal:function(e){!0===e&&this.modalActive()},newpassword:function(e){this.validatePassword(e,"N")},confirmpassword:function(e){this.confirmpassword=e,this.validatePassword(e,"C")}},emits:["hideLoginModal","submitReport"],methods:{togglePassword:function(){this.isVisibleNewPassword=!this.isVisibleNewPassword},modalActive:function(){this.loginFormModal=new Dt.u_(document.getElementById("loginForm"),{target:"#loginForm",backdrop:"static"}),this.loginFormModal.show()},launchUserManual:function(){console.log("here"),this.userManualModal=new Dt.u_(document.getElementById("userManualModal"),{target:"#userManualModal"}),this.userManualModal.show()},hideLoginModal:function(){this.loginFormModal.hide(),this.$emit("hideLoginModal")},submitReport:function(){this.loginFormModal.hide(),this.$emit("submitReport",this.newpassword)},validatePassword(e,s){this.isValid=!1;let a=/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/;"N"===s?(this.newpassword=e,e.length<8?this.msg["newpassword"]="( "+e.length+"/8 )":this.msg["newpassword"]=""):e!==this.newpassword?this.msg["confirmpassword"]="New password and confirm password must be the same":a.test(this.newpassword)?(this.isValid=!0,this.msg["confirmpassword"]=""):this.msg["confirmpassword"]="Password should contain numbers, letters and special characters"}}},Ct=(0,S.Z)(Wt,[["render",Xa]]),xt=Ct;var Mt=a(8),St=a.n(Mt);const Pt={data(){return{isModalOpen:!1,userid:"",password:"",logintext:{newpassword:{name:"newpassword",title:"Enter New Password"},confirmpassword:{name:"confirmpassword",title:"Confirm New Password"},anonymousid:{name:"anonymousid",title:"Anonymous User ID"}},msg:{},form:{},range:{start:"",end:""},datefrom:Date(),dateto:Date(),fields:{anonymous:{name:"anonymous",title:"Do you want to remain anonymous?",placeholder:"",description:"What is your relation with KWS",order:1},complainanttype:{name:"complainanttype",title:"What is your relation with KWS",placeholder:"Please select...",description:"What is your relation with KWS",order:1},allegetype:{name:"allegetype",title:"What is the nature of allegation? ",placeholder:"",description:"Enter complainant type",order:2},nationalid:{name:"nid",title:"National ID",placeholder:"national ID",description:"Government recognized Identification ID ",order:1},workid:{name:"wid",title:"Employee ID",placeholder:"employee ID",description:"Employee Identification number",order:1},first:{name:"firstname",title:"Ener your (first, middle, last) names",placeholder:"First Name",description:"Enter your first name",order:1},middle:{name:"middlename",title:"Ener your names",placeholder:"Middle Name",description:"What is your relation with KWS",order:1},last:{name:"lastname",title:"Ener your names",placeholder:"Last Name",description:"What is your relation with KWS",order:1},phone:{name:"phone",title:"Phone number",placeholder:"phone number",description:"phone number of the complainant",order:1},email:{name:"email",title:"Email Address",placeholder:"email address",description:"Email address of the complainant",order:1},reported:{name:"reported",title:"Has this issue been reported to any other party",placeholder:"",description:"Enter complainant type",order:3},towhom:{name:"towhom",title:"If yes, enter name of person or institution",placeholder:"",description:"Enter complainant type"},describe:{name:"description",title:"Describe the incident in as much detail as possible",placeholder:"",description:"Enter complainant type"},subjectdetail:{name:"detail",title:"Who is involved in the incident (Suspects), phone number(s), email(s)?",Name:"",placeholder:"",description:"Enter complainant type"},threat:{name:"threat",title:"Is there a threat to your personal safety, fear of victimisation or retaliation as a result of making this report?",placeholder:"",description:"Enter complainant type"},elaborate:{name:"elaborate",title:"Please elaborate by stating who and why you have been threatened",placeholder:"",description:"Enter complainant type"},evidence:{name:"evidence",title:"Do you have evidence you can forward?",placeholder:"",description:"Enter complainant type"},nopossession:{name:"nopossession",title:"If No, do you know where the evidence can be found?",placeholder:"",description:"Enter complainant type"},department:{name:"department",title:"Department",placeholder:"",description:"Enter complainant type"},station:{name:"station",title:"Station",placeholder:"",description:"Enter complainant type"},region:{name:"region",title:"Region",placeholder:"",description:"Enter complainant type"},datefrom:{name:"datefrom",title:"The start date when the inicident occurred",placeholder:"",description:"Enter complainant type"},dateto:{name:"dateto",title:"The end date when the incident occurred",placeholder:"",description:"Enter complainant type"}},allegetypelist:[{name:"Fraud",id:1},{name:"Corruption",id:2},{name:"Theft",id:3},{name:"Unethical Behaviour",id:4}],complainantlist:[{name:"Contractor",id:1},{name:"Former Employee",id:2},{name:"Contract Employee",id:3},{name:"Citizen",id:4},{name:"Supplier",id:5}],yesno:[{name:"No",id:0},{name:"Yes",id:1}]}},components:{Select:Bs,Label:Js,Input:sa,TextArea:oa,DateTimePicker:wa,Button:E,Register:xt},created(){const e=this.getLocalStorage();e&&(this.form={...this.form,...e},this.range.start=e.datefrom,this.range.end=e.dateto)},watch:{range:function(e){this.updateForm("datefrom",St()(e.start).format("YYYY-MM-DD HH:mm")),this.updateForm("dateto",St()(e.end).format("YYYY-MM-DD HH:mm"))}},methods:{cancelreport(){localStorage.clear(0),history.back()},async submitreport(e){let s=!1;this.$refs.makereport.checkValidity()?(this.userid=await this.getAnonymousID(),this.updateForm("userid",this.userid),this.isModalOpen=!0,s&&this.storeReport(e)):(this.$forceUpdate(),this.$refs.makereport.reportValidity())},updateForm(e,s){let a=s.trim();this.form[e]=a;let t=this.getLocalStorage();t||(t={}),a&&(t[e]=a);for(const[n,l]of Object.entries(t))""===l.trim()&&(console.log(`${n}: ${l}`),delete t[n]);this.saveStorage(t)},getLocalStorage(){return JSON.parse(localStorage.getItem("form"))},saveStorage(e){localStorage.setItem("form",JSON.stringify(e))},async getToken(){let e=null,s="",a={};a=this.email?{email:this.email,password:this.userid,firstname:this.firstname,middlename:this.middlename,lastname:this.lastname}:{userid:this.userid,password:this.password};try{const t=await fetch("http://cmspb.herokuapp.com/api/register",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)});if(e=await t.json(),"200"===e.status)return s={token:e.authorisation.token,id:e.user.id},s;this.msg["warning"]="The email provided has already been used, please select 'Yes' to remain anonymous and submit report",setTimeout((()=>this.msg={}),5e3)}catch(t){console.log(t)}},async storeReport(e){let s=null;this.password=e;let a=await this.getToken();if(a.token){let e=new Headers;e.append("Authorization","bearer "+a.token),e.append("Content-type","application/json"),this.form["user_id"]=a.id;try{const a=await fetch("http://cmspb.herokuapp.com/api/complaints",{method:"POST",headers:e,body:JSON.stringify(this.form)});s=await a.json(),"200"===s.status?(this.msg["success"]="The complaint has been saved successfully.",window.scrollTo(0,0),setTimeout((()=>{this.msg={},this.cancelreport()}),5e3)):(this.msg["warning"]="The complaint has NOT been saved. Try again later",setTimeout((()=>this.msg={}),5e3))}catch(t){console.log(t)}}},async getAnonymousID(){let e=null;try{const s="http://cmspb.herokuapp.com/api/user/randomuserid",a=await fetch(s);e=await a.json();let t=e.userid;return t}catch(s){console.log(s)}}}},Et=(0,S.Z)(Pt,[["render",Ns],["__scopeId","data-v-47255946"]]),Ft=Et,Tt={class:"row"},zt={class:"col-sm-6 d-none d-lg-block d-md-block"},Ot={class:"col-sm-6"},Vt=(0,n._)("hr",null,null,-1);function Nt(e,s,a,t,l,o){const i=(0,n.up)("ContentImage"),r=(0,n.up)("LoginPassword");return(0,n.wg)(),(0,n.iD)("div",Tt,[(0,n._)("div",zt,[(0,n.Wm)(i,{contentImage:l.imageDetail},null,8,["contentImage"])]),(0,n._)("div",Ot,[(0,n._)("h2",null,(0,C.zw)(l.page),1),Vt,(0,n.Wm)(r)])])}const Lt={components:{LoginPassword:It,ContentImage:we},data(){return{response:{},isExpired:!1,page:"Login Details",imageDetail:{name:"LoginImage",imagepath:"images/cheetah.jpg"},logintext:{userid:{name:"userid",title:"Enter user name or anonymous id"},confirmpassword:{name:"password",title:"Enter password"}},newpassword:"",msg:[],isVisibleNewPassword:!1}},watch:{$route:function(e){console.log("dash")}},methods:{storeToken:function(e){localStorage.setItem("resp",JSON.stringify(e))},getStoredToken:function(){return JSON.parse(localStorage.getItem("resp"))},logout:async function(){}}},At=(0,S.Z)(Lt,[["render",Nt]]),Ut=At,Yt={class:"container-fluid"},qt={class:"row flex-nowrap"},Zt={class:"col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark"},Bt={class:"d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100"},Ht=(0,n._)("a",{href:"/",class:"d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none"},[(0,n._)("span",{class:"fs-5 d-none d-sm-inline"},"Menu")],-1),Rt={class:"nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start",id:"menu"},$t=(0,n.uE)('<li class="nav-item"><a href="#" class="align-middle px-0 text-white"><i class="nav-icon fa fa-edit"></i><span class="ms-1 d-none d-sm-inline">Complaints</span></a></li><li><a href="#" class="nav-link px-0 align-middle text-white"><i class="nav-icon far fa-question-circle"></i><span class="ms-1 d-none d-sm-inline">User Manual</span></a></li>',2),Kt=(0,n._)("i",{class:"nav-icon fas fa-fw fa-sign-out-alt"},null,-1),Jt=(0,n._)("span",{class:"ms-1 d-none d-sm-inline"},"Logout",-1),Gt=[Kt,Jt],Qt=(0,n._)("hr",null,null,-1),Xt={class:"col py-3"},en=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Complaint No"),(0,n._)("th",null,"Complaint Type"),(0,n._)("th",null,"Allegation"),(0,n._)("th",null,"Reported"),(0,n._)("th",null,"To Whom"),(0,n._)("th",null,"Description"),(0,n._)("th",null,"Detail"),(0,n._)("th",null,"Threat"),(0,n._)("th",null,"Elaborate"),(0,n._)("th",null,"Evidence"),(0,n._)("th",null,"Date from"),(0,n._)("th",null,"Date to"),(0,n._)("th",null,"Status")])],-1);function sn(e,s,a,t,l,o){const i=(0,n.up)("DataTable");return(0,n.wg)(),(0,n.iD)("div",Yt,[(0,n._)("div",qt,[(0,n._)("div",Zt,[(0,n._)("div",Bt,[Ht,(0,n._)("ul",Rt,[$t,(0,n._)("li",null,[(0,n._)("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=(...e)=>t.logout&&t.logout(...e)),class:"nav-link px-0 align-middle text-white"},Gt)])]),Qt])]),(0,n._)("div",Xt,[(0,n.Wm)(i,{class:"table table-hover table-striped",options:{select:!0,bLengthChange:!1,bPaginate:!1,bFilter:!1,bInfo:!1}},{default:(0,n.w5)((()=>[en])),_:1})])])])}var an=a(4032);const tn={name:"Dashboard",data(){return{retoken:""}},components:{DataTable:an.Z},props:{resp:Object,isExpired:Boolean},setup(){const e=new X.tv;(0,n.bv)((async()=>{try{_t().defaults.headers.common.Authorization||await e.push("/login")}catch(s){await e.push("/login")}}));const s=async s=>{await _t().post("logout",{},{withCredentials:!0}),_t().defaults.headers.common.Authorization="",e.push({path:"/"})};return{logout:s}},methods:{getComplaints:async function(e){const s=await fetch({NODE_ENV:"production",VUE_APP_WB_API_ENDPOINT:"http://cmspb.herokuapp.com",BASE_URL:"/"}.VUE_APP_WB_API+"/api/complaints/' +id");return data=await s.json(),data}}},nn=(0,S.Z)(tn,[["render",sn]]),ln=nn,on=[{path:"/",name:"Welcome",component:_e},{path:"/home",name:"Home",component:_e},{path:"/confidentiality_name_identity",name:"UseWebsite",component:_e},{path:"/reporting_irregularities",name:"ReportingIrregularities",component:_e},{path:"/follow_up",name:"FollowUp",component:_e},{path:"/faqs",name:"FAQs",component:_e},{path:"/contact_us",name:"Contacts",component:_e},{path:"/makereport",name:"MakeReport",component:Ft},{path:"/login",name:"Login",component:Ut},{path:"/dashboard",name:"Dashboard",component:ln}],rn=(0,X.p7)({history:(0,X.PO)(),routes:on}),dn=rn;_t().defaults.baseURL="http://cmspb.herokuapp.com/api/";let mn=!1;_t().interceptors.response.use((e=>e),(async e=>{if(401===e.response.status&&!mn){mn=!0;const{status:s,data:a}=await _t().post("refresh",{},{withCredentials:!0});if(200===s)return _t().defaults.headers.common.Authorization=`Bearer ${a.token}`,_t()(e.config)}return mn=!1,e}));a(8702);(0,t.ri)(Q).use(dn).mount("#app")}},s={};function a(t){var n=s[t];if(void 0!==n)return n.exports;var l=s[t]={id:t,loaded:!1,exports:{}};return e[t].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,(()=>{var e=[];a.O=(s,t,n,l)=>{if(!t){var o=1/0;for(m=0;m<e.length;m++){for(var[t,n,l]=e[m],i=!0,r=0;r<t.length;r++)(!1&l||o>=l)&&Object.keys(a.O).every((e=>a.O[e](t[r])))?t.splice(r--,1):(i=!1,l<o&&(o=l));if(i){e.splice(m--,1);var d=n();void 0!==d&&(s=d)}}return s}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[t,n,l]}})(),(()=>{a.n=e=>{var s=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(s,{a:s}),s}})(),(()=>{a.d=(e,s)=>{for(var t in s)a.o(s,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{a.p="/"})(),(()=>{var e={143:0};a.O.j=s=>0===e[s];var s=(s,t)=>{var n,l,[o,i,r]=t,d=0;if(o.some((s=>0!==e[s]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(r)var m=r(a)}for(s&&s(t);d<o.length;d++)l=o[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(m)},t=self["webpackChunk"]=self["webpackChunk"]||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var t=a.O(void 0,[998],(()=>a(8753)));t=a.O(t)})();
//# sourceMappingURL=app.2c4d0a1e.js.map